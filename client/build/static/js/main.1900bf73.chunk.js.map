{"version":3,"sources":["components/ResultCard.tsx","components/ResultList.tsx","utils.ts","components/SearchInput.tsx","types.ts","components/SearchContainer.tsx","components/LocalizationBox.tsx","lang/index.ts","lang/en.ts","lang/es.ts","lang/fr.ts","components/PageContainer.tsx","App.jsx","index.js"],"names":["CardWrapper","styled","div","ResultCard","props","className","Date","departureTime","toLocaleString","language","originLocationName","arrivalTime","destinationLocationName","prices","total","currency","ResultListWrapper","ResultList","useState","routes","setRoutes","useEffect","departures","length","modifiedLocations","locations","forEach","lc","id","modifiedDepartures","map","d","name","t","resultList","route","toCamel","s","replace","$1","toUpperCase","capitalize","str","lower","toLowerCase","charAt","slice","SearchInputWrapper","SearchInput","Language","Currency","Querystring","field","type","onChange","e","handleChange","value","apiBase","SearchContainerWrapper","SearchContainer","initialValue","origin","display","destination","outboundDate","adult","formValue","setFormValue","searchResult","setSearchResult","indexRef","useRef","handleSubmit","event","preventDefault","submitSearchCondition","target","undefined","qs","URLSearchParams","child","senior","lang","fetch","data","json","complete","setInitialSearchResult","isPollComplete","interval","setInterval","pollQs","append","current","toString","appendSearchResult","clearInterval","camelCaseDepartures","converted","Object","entries","key","prev","concat","onSubmit","date","passenger","passengerUnit","LocalizationBoxWrapper","LocalizationBox","setLanguage","setCurrency","chooseCurrency","CAD","USD","EUR","chooseLanguage","EN","FR","ES","translations","en","title","submit","es","fr","PageContainerWrapper","PageContainer","AppWrapper","App","window","process","createRoot","document","getElementById","render","StrictMode"],"mappings":"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","file":"static/js/main.1900bf73.chunk.js","sourcesContent":["import React from \"react\";\nimport styled from \"styled-components\";\n\ninterface SearchResultType {\n  departureTime: string;\n  arrivalTime: string;\n  destinationLocationName: string;\n  originLocationName: string;\n  prices: {\n    currency: string;\n    total: number;\n  };\n  language: string;\n}\n\nconst CardWrapper = styled.div`\n  display: flex;\n  justify-content: space-between;\n  min-height: 100px;\n  align-items: center;\n  padding: 0.5rem 2rem;\n  border: 0.07rem solid lightgray;\n  border-radius: 0.75rem;\n  margin-bottom: 2rem;\n  font-size: 1.2rem;\n  flex-wrap: wrap;\n\n  .routes {\n    display: flex;\n    flex-direction: column;\n    flex-wrap: wrap;\n    flex: 1;\n  }\n\n  .routes > div:not(:last-child) {\n    margin-bottom: 1rem;\n  }\n\n  .route {\n    display: flex;\n  }\n\n  .route > div:not(:last-child) {\n    margin-right: 2rem;\n  }\n\n  .time {\n    word-break: keep-all;\n  }\n\n  .price {\n    font-size: 1.5rem;\n  }\n\n  .price > span:not(:last-child) {\n    margin-right: 0.5rem;\n  }\n\n  @media (max-width: 900px) {\n    padding: 0.9rem;\n\n    .price {\n      font-size: 1.3rem;\n    }\n\n    .route {\n      flex-direction: column;\n    }\n  }\n\n  @media (max-width: 900px) {\n    .price {\n      font-size: 1.2rem;\n      margin-top: 1rem;\n    }\n  }\n`;\n\nfunction ResultCard(props: SearchResultType) {\n  return (\n    <CardWrapper>\n      <div className=\"routes\">\n        <div className=\"route origin\">\n          <div className=\"time\">\n            {new Date(props.departureTime).toLocaleString(props.language)}\n          </div>\n          <div>{props.originLocationName}</div>\n        </div>\n        <div className=\"route destination\">\n          <div className=\"time\">\n            {new Date(props.arrivalTime).toLocaleString(props.language)}\n          </div>\n          <div>{props.destinationLocationName}</div>\n        </div>\n      </div>\n      <div className=\"price\">\n        <span>{props.prices.total}</span>\n        <span>{props.prices.currency}</span>\n      </div>\n    </CardWrapper>\n  );\n}\n\nexport default ResultCard;\n","import React, { useState, useEffect } from \"react\";\nimport styled from \"styled-components\";\n\nimport ResultCard from \"./ResultCard\";\nimport { TranslationType } from \"../lang\";\n\nconst ResultListWrapper = styled.div`\n  .title {\n    font-size: 2rem;\n    margin-bottom: 1rem;\n  }\n`;\n\ninterface ResultListProps {\n  departures?: any;\n  locations?: any;\n  language: string;\n  t: TranslationType;\n}\n\nfunction ResultList(props: ResultListProps) {\n  const [routes, setRoutes] = useState([]);\n\n  useEffect(() => {\n    if (props.departures?.length) {\n      const modifiedLocations: Record<number, any> = {};\n      props.locations.forEach((lc: any) => {\n        modifiedLocations[lc.id] = lc;\n      });\n\n      const modifiedDepartures = props.departures.map((d: any) => {\n        d[\"destinationLocationName\"] =\n          modifiedLocations[d[\"destinationLocationId\"]].name;\n        d[\"originLocationName\"] = modifiedLocations[d[\"originLocationId\"]].name;\n\n        return d;\n      });\n\n      setRoutes(modifiedDepartures);\n    }\n  }, [props.departures]);\n\n  return (\n    <ResultListWrapper>\n      <div className=\"title\">{props.t.resultList}</div>\n      {routes.length === 0 ? (\n        <div>No result</div>\n      ) : (\n        routes.map((route: any) => <ResultCard key={route.id} {...route} />)\n      )}\n    </ResultListWrapper>\n  );\n}\n\nexport default ResultList;\n","export const toCamel = (s: string) => {\n  return s.replace(/([-_][a-z])/gi, ($1) => {\n    return $1.toUpperCase().replace(\"-\", \"\").replace(\"_\", \"\");\n  });\n};\n\nexport const capitalize = (str: string) => {\n  const lower = str.toLowerCase();\n  return str.charAt(0).toUpperCase() + lower.slice(1);\n};\n","import React, { ChangeEvent } from \"react\";\nimport styled from \"styled-components\";\nimport { capitalize } from \"../utils\";\n\ninterface SearchInputProps {\n  field: \"origin\" | \"destination\";\n  handleChange: (\n    e: ChangeEvent<HTMLInputElement>,\n    field: \"origin\" | \"destination\"\n  ) => void;\n  value: string;\n  className: string;\n}\nconst SearchInputWrapper = styled.div`\n  display: block;\n  position: relative;\n\n  .label {\n    display: block;\n  }\n`;\n\nfunction SearchInput(props: SearchInputProps) {\n  const onChange = (e: ChangeEvent<HTMLInputElement>) => {\n    props.handleChange(e, props.field);\n  };\n\n  return (\n    <SearchInputWrapper className={props.className}>\n      <label className=\"label\">{capitalize(props.field)}</label>\n      <input\n        name=\"message\"\n        type=\"text\"\n        onChange={onChange}\n        value={props.value}\n      />\n    </SearchInputWrapper>\n  );\n}\n\nexport default SearchInput;\n","export const apiBase = \"http://localhost:3001/\";\nexport const apiVersion = \"v1\";\nexport enum Language {\n  EN = \"en\",\n  FR = \"fr\",\n  ES = \"es\",\n}\n\nexport enum Currency {\n  CAD = \"CAD\",\n  USD = \"USD\",\n  EUR = \"EUR\",\n}\n\nexport enum Querystring {\n  ADULT = \"adult\",\n  CHILD = \"child\",\n  SENIOR = \"senior\",\n  LANG = \"lang\",\n  CURRENCY = \"currency\",\n}\n","import React, { useState, ChangeEvent, useEffect, useRef } from \"react\";\nimport styled from \"styled-components\";\n\nimport ResultList from \"./ResultList\";\nimport SearchInput from \"./SearchInput\";\nimport { apiBase, apiVersion } from \"../types\";\nimport { toCamel } from \"../utils\";\nimport { TranslationType } from \"../lang\";\n\nconst SearchContainerWrapper = styled.div`\n  position: relative;\n  padding: 10px;\n\n  .form {\n    display: flex;\n    justify-content: space-between;\n    flex-wrap: wrap;\n    margin-bottom: 1rem;\n  }\n\n  .field {\n    border: 1px solid lightgray;\n    padding: 0.25rem 0.5rem;\n    flex: 1;\n  }\n\n  .label {\n    display: block;\n  }\n\n  .value {\n    white-space: nowrap;\n  }\n`;\n\ninterface SearchContainerProps {\n  language: string;\n  currency: string;\n  t: TranslationType;\n}\n\nfunction SearchContainer(props: SearchContainerProps) {\n  const { language, currency, t } = props;\n\n  const initialValue = {\n    origin: {\n      display: \"Quebec\",\n      value: \"f2m673\",\n    },\n    destination: {\n      display: \"Montreal\",\n      value: \"f25dvk\",\n    },\n    outboundDate: \"2022-07-29\",\n    adult: 2,\n  };\n  const [formValue, setFormValue] = useState(initialValue);\n  const [searchResult, setSearchResult] = useState<\n    | undefined\n    | {\n        departures: [];\n        locations: [];\n      }\n  >();\n  const indexRef = useRef(0);\n\n  const handleSubmit = async (event: React.FormEvent<HTMLFormElement>) => {\n    event.preventDefault();\n    await submitSearchCondition();\n    setFormValue(initialValue);\n  };\n\n  const handleChange = (\n    event: ChangeEvent<HTMLInputElement>,\n    field: \"origin\" | \"destination\"\n  ) => {\n    setFormValue({\n      ...formValue,\n      [field]: { display: event.target.value, value: formValue[field].value },\n    });\n  };\n\n  const submitSearchCondition = async () => {\n    setSearchResult(undefined);\n    const qs = new URLSearchParams({\n      adult: \"1\",\n      child: \"0\",\n      senior: \"0\",\n      lang: language,\n      currency: currency,\n    });\n    const data = await fetch(\n      `${apiBase}${apiVersion}/search/${formValue.origin.value}/${formValue.destination.value}/${formValue.outboundDate}` +\n        \"?\" +\n        qs\n    );\n    const json = await data.json();\n\n    if (json.complete === true) {\n      setInitialSearchResult(json);\n    } else {\n      let isPollComplete = false;\n\n      const interval = setInterval(async function () {\n        const pollQs = qs;\n        pollQs.append(\"index\", indexRef.current.toString());\n\n        if (!isPollComplete) {\n          const data = await fetch(\n            `${apiBase}${apiVersion}/search/${formValue.origin.value}/${formValue.destination.value}/${formValue.outboundDate}/poll` +\n              \"?\" +\n              pollQs\n          );\n          const json = await data.json();\n          if (json.complete === true) {\n            appendSearchResult(json);\n            isPollComplete = true;\n          }\n        } else {\n          clearInterval(interval);\n          return;\n        }\n      }, 3000);\n    }\n  };\n\n  const setInitialSearchResult = (json: any) => {\n    const camelCaseDepartures = json.departures.map((d: object) => {\n      const converted: Record<string, object> = {};\n      Object.entries(d).forEach(([key, value]) => {\n        converted[toCamel(key)] = value;\n      });\n\n      return converted;\n    });\n\n    setSearchResult({\n      departures: camelCaseDepartures,\n      locations: json?.locations,\n    });\n  };\n\n  const appendSearchResult = (json: any) => {\n    const camelCaseDepartures = json.departures.map((d: object) => {\n      const converted: Record<string, object> = {};\n      Object.entries(d).forEach(([key, value]) => {\n        converted[toCamel(key)] = value;\n      });\n\n      return converted;\n    });\n\n    setSearchResult((prev) => {\n      return {\n        departures: prev?.departures\n          ? prev.departures.concat(camelCaseDepartures)\n          : camelCaseDepartures,\n        locations: prev?.locations\n          ? prev?.locations.concat(json?.locations)\n          : json?.locations,\n      };\n    });\n  };\n  useEffect(() => {\n    indexRef.current = searchResult?.departures.length || 0;\n  }, [searchResult?.departures.length]);\n\n  return (\n    <SearchContainerWrapper>\n      <form className=\"form\" onSubmit={handleSubmit}>\n        <SearchInput\n          className=\"field\"\n          field=\"origin\"\n          handleChange={handleChange}\n          value={formValue[\"origin\"].display}\n        />\n        <SearchInput\n          className=\"field\"\n          field=\"destination\"\n          handleChange={handleChange}\n          value={formValue[\"destination\"].display}\n        />\n        <div className=\"field\">\n          <span className=\"label\">{t.date}</span>\n          <span className=\"value\">2022-07-29</span>\n        </div>\n        <div className=\"field\">\n          <span className=\"label\">{t.passenger}</span>\n          <span className=\"value\">1 {t.passengerUnit}</span>\n        </div>\n        <button type=\"submit\">Submit</button>\n      </form>\n      {searchResult ? (\n        <ResultList\n          departures={searchResult?.departures}\n          locations={searchResult?.locations}\n          language={language}\n          t={t}\n        />\n      ) : null}\n    </SearchContainerWrapper>\n  );\n}\n\nexport default SearchContainer;\n","import React, { ChangeEvent } from \"react\";\nimport styled from \"styled-components\";\nimport { Currency, Language } from \"../types\";\nimport { TranslationType } from \"../lang\";\n\nconst LocalizationBoxWrapper = styled.div`\n  display: flex;\n  justify-content: flex-end;\n  padding: 10px;\n\n  .box {\n    margin-right: 0.5rem;\n  }\n\n  .label {\n    margin-right: 0.5rem;\n  }\n`;\n\ninterface LocalizationBoxProps {\n  setLanguage: (arg0: string) => void;\n  setCurrency: (arg0: string) => void;\n  t: TranslationType;\n}\n\nfunction LocalizationBox(props: LocalizationBoxProps) {\n  const { setLanguage, setCurrency, t } = props;\n  const onLanguageSelect = (e: ChangeEvent<HTMLSelectElement>) => {\n    props.setLanguage(e.target.value);\n  };\n\n  const onCurrencySelect = (e: ChangeEvent<HTMLSelectElement>) => {\n    props.setCurrency(e.target.value);\n  };\n  return (\n    <LocalizationBoxWrapper>\n      <div className=\"box\">\n        <label className=\"label\">{t.chooseCurrency}:</label>\n        <select\n          name=\"currency\"\n          id=\"currency-select\"\n          onChange={onCurrencySelect}\n        >\n          <option value={Currency.CAD}>CAD</option>\n          <option value={Currency.USD}>USD</option>\n          <option value={Currency.EUR}>EUR</option>\n        </select>\n      </div>\n      <div className=\"box\">\n        <label className=\"label\">{t.chooseLanguage}:</label>\n        <select\n          name=\"language\"\n          id=\"language-select\"\n          onChange={onLanguageSelect}\n        >\n          <option value={Language.EN}>English</option>\n          <option value={Language.FR}>French</option>\n          <option value={Language.ES}>Spanish</option>\n        </select>\n      </div>\n    </LocalizationBoxWrapper>\n  );\n}\n\nexport default LocalizationBox;\n","import en from \"./en\";\nimport es from \"./es\";\nimport fr from \"./fr\";\n\nexport const translations: Record<string, TranslationType> = {\n  en,\n  es,\n  fr,\n};\n\nexport type TranslationType = {\n  title: string;\n  chooseCurrency: string;\n  chooseLanguage: string;\n  origin: string;\n  destination: string;\n  date: string;\n  passenger: string;\n  submit: string;\n  passengerUnit: string;\n  resultList: string;\n};\n","export default {\n  title: \"Find bus tickets for your trip\",\n  chooseCurrency: \"Choose Currency\",\n  chooseLanguage: \"Choose Language\",\n  origin: \"Origin\",\n  destination: \"Destination\",\n  date: \"Date\",\n  passenger: \"Passenger\",\n  submit: \"Submit\",\n  passengerUnit: \"passenger\",\n  resultList: \"Result List\",\n};\n","export default {\n  title: \"Encuentra billetes de autobús para tu viaje\",\n  chooseCurrency: \"Elegir Moneda\",\n  chooseLanguage: \"Elige lengua\",\n  origin: \"Origen\",\n  destination: \"Destino\",\n  date: \"Fecha\",\n  passenger: \"Pasajero\",\n  submit: \"Enviar\",\n  passengerUnit: \"pasajero\",\n  resultList: \"lista de resultados\",\n};\n","export default {\n  title: \"Trouvez des billets de bus pour votre voyage\",\n  chooseCurrency: \"Choisir la devise\",\n  chooseLanguage: \"Choisissez la langue\",\n  origin: \"Origine\",\n  destination: \"Destination\",\n  date: \"Date\",\n  passenger: \"Passagère\",\n  submit: \"Nous faire parvenir\",\n  passengerUnit: \"passagère\",\n  resultList: \"liste de résultats\",\n};\n","import React, { useState } from \"react\";\nimport styled from \"styled-components\";\n\nimport SearchContainer from \"./SearchContainer\";\nimport LocalizationBox from \"./LocalizationBox\";\n\nimport { Currency, Language } from \"../types\";\nimport { translations } from \"../lang\";\n\nconst PageContainerWrapper = styled.div`\n  margin: 2rem;\n\n  @media (max-width: 768px) {\n    margin: 1rem;\n\n    .title {\n      padding: 1.5rem;\n    }\n  }\n`;\n\nfunction PageContainer() {\n  const [language, setLanguage] = useState<string>(Language.EN);\n  const [currency, setCurrency] = useState<string>(Currency.CAD);\n\n  return (\n    <PageContainerWrapper>\n      <div className=\"title\">\n        <h1>{translations[language].title}</h1>\n      </div>\n      <LocalizationBox\n        setLanguage={setLanguage}\n        setCurrency={setCurrency}\n        t={translations[language]}\n      />\n      <SearchContainer\n        language={language}\n        currency={currency}\n        t={translations[language]}\n      />\n    </PageContainerWrapper>\n  );\n}\n\nexport default PageContainer;\n","import React, { useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport PageContainer from \"./components/PageContainer.tsx\";\n\nconst AppWrapper = styled.div`\n  padding: 2rem 5rem;\n\n  @media (max-width: 768px) {\n    padding: 1rem;\n  }\n`;\n\nfunction App() {\n  useEffect(() => {\n    window.process = {\n      ...window.process,\n    };\n  }, []);\n\n  return (\n    <AppWrapper>\n      <PageContainer />\n    </AppWrapper>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport { createRoot } from \"react-dom/client\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nconst root = createRoot(document.getElementById(\"root\"));\n\nroot.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n);\n"],"sourceRoot":""}