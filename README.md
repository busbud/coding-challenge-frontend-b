# Mathieu Ferraris - Coding Challenge

Hi there, thank you for your time ! ðŸ˜Š
Here's my version of the coding challenge, I hope you'll like it.
[Heroku deploy link](https://mat-ferraris.herokuapp.com/).

## Main concept

The home page is the Osheaga festival homepage, where the lineup is generated by fetching their official Spotify playlist. Each artist is presented as a "playable" card, that previews a song of him from the playlist and a link to his Spotify page.

I'm generating the lineup in two steps:
- Fetch playlist tracks from [Spotify API playlist endpoint](https://developer.spotify.com/documentation/web-api/reference/playlists/get-playlists-tracks/) and parse them by artists `{[artistName]: [{...trackData}]}`.
- Then I use the artists ids to fetch artists details from [Spotify API artists endpoint](https://developer.spotify.com/documentation/web-api/reference/artists/get-several-artists/)

There's a link in navigation and a fixed banner that redirects the user to the tickets page, where he gets 10% off the festival tickets by traveling with the festival's partner Busbud.

Passes choices are displayed as cards, where the user gets all the trips, festival and discount information. The final price is calculated that way `tripPrice + (festivalPassPrice - discount)`.

## Process
**Design process**: I'm using [Sketch](https://www.sketch.com/) to design any website or application and assets exports. I design every component with code in mind, when a component is fully designed, I directly know how I'll develop it.

**Development process**: I bootstapped the project by installing all the tools I needed and tested them. As I never deployed anything with Heroku, I started with this task. It was way easier than I expexted it to be to set it up with Github and automatically deploy the new version when there's new changes on `master`. That being done, I was now able to start to code the usual way. At first, I used git-flow and created a feature-branch (named that way `feature/my-awasome-feature`) for each new feature I add in the app. I realized that I didn't had a lot of time to continue that way, so I directly pushed to master when everything was done (and I hated it ðŸ˜…).
First I read the documentation of the API I'm going to consume in the app, then I create the app config file, where I add all the app variables and endpoints. After that I create small api helper that will be used to make requests and I test them with hardcoded data. To see the data model and create types for my components.
When I start developping a feature, I start by the components in Storybook for every use-case. Once this part has been done, I compose the "dumb" components and screens. And finally I create a connected high order component whose role will be to handle errors, fetch, parse and distribute data to the components that will be decorated with it.


## Technologies

To build this project I used these technologies:
- [VSCode](https://code.visualstudio.com/): Obviously ðŸ™ƒ.
- [Yarn](https://yarnpkg.com/): I'm used to it and it's friendlier than NPM.
- [React](https://reactjs.org/): Bootstrapped with `create-react-app`.
- [Storybook](https://storybook.js.org/): For separation of concerns while developping components.
- [StyledComponents](https://styled-components.com/): To me it's the best way to style components dynamically and the usage of theme providers.
- [i18next](https://www.i18next.com/): For translations.
- [ReactRouterDom](https://reactrouter.com/): For route handling inside the app.
- [Moment](https://momentjs.com/): For date handling and locale.
- [EsLint](https://eslint.org/): Based on Airbnb code style with some custom changes.
- [Flow](https://flow.org/): For typing.

## Run project scripts locally

- `yarn` Will install all the project's dependencies.
- `yarn start` Starts the app locally at [http://localhost:3000](http://localhost:3000).
- `yarn storybook` Starts Storybook locally at [http://localhost:6006](http://localhost:6006).
- `yarn lint` Stars eslint check across the project.

## Bonus

I added a Theme Provider. The app supports light and dark themes which is togglable in the app header and it uses the theme from the user device `window.matchMedia('prefers-color-scheme: dark').matches`

## Issues

I used the given day (**the 2nd of August 2020**) to fetch departures. But I wasn't able to get departures until **the first of December 2020**, so I used this date by default.

If you have any questions or remarks, don't hesitate to contact me ðŸ˜Š