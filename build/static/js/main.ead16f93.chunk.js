(this.webpackJsonposheaga_quebec_schedules=this.webpackJsonposheaga_quebec_schedules||[]).push([[0],{12:function(e,t,s){},14:function(e,t,s){},16:function(e,t,s){"use strict";s.r(t);var c=s(0),n=s(1),r=s.n(n),a=s(5),i=s.n(a),l=(s(12),s(2)),o=s.n(l),d=s(3),u=s(6);s(14),s(15);function j(){return b.apply(this,arguments)}function b(){return(b=Object(d.a)(o.a.mark((function e(){var t,s,c=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:"",e.next=3,fetch(t,{method:"GET",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"X-Busbud-Token":"PARTNER_BaASYYHxTxuOINEOMWq5GA",Accept:"application/vnd.busbud+json; version=2; profile=https://schema.busbud.com/v2/"},redirect:"follow",referrerPolicy:"no-referrer"});case 3:return s=e.sent,e.abrupt("return",s.json());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e){var t=e.split("T")[0],s=e.split("T")[1];return{date:t=t.split("-").reverse().join("/"),time:s=(s=s.split(":"))[0]+":"+s[1]}}function h(){return{departure_time:"____-__-__T_:_:__",arrival_time:"____-__-__T_:_:__",prices:{total:"_.__",currency:"___"},duration:"___"}}var _=function(){var e=Object(n.useState)({departures:[h(),h(),h(),h(),h()]}),t=Object(u.a)(e,2),s=t[0],r=t[1];return Object(n.useEffect)((function(){function e(t,s,c){if(!t.complete){var n=t.departures.length;setTimeout(Object(d.a)(o.a.mark((function a(){var i;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,j(s+"/poll"+c+"&index="+n);case 2:i=a.sent,r(t.concat(i)),e(i,s,c);case 5:case"end":return a.stop()}}),a)}))),2e3)}}function t(){return(t=Object(d.a)(o.a.mark((function t(){var s,c,n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s="https://napi.busbud.com/x-departures/f2m673/f25dvk/2020-12-01",c="?adult=1&child=0&senior=0&lang=fr&currency=CAD",t.next=4,j(s+c);case 4:n=t.sent,r(n),e(n,s,c);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[]),Object(c.jsxs)("div",{className:"app text-center mt-5 mb-5",children:[Object(c.jsx)("header",{className:"app-header",children:Object(c.jsxs)("h1",{className:"title",children:[Object(c.jsx)("div",{className:"mb-2",children:"Going to"}),Object(c.jsx)("img",{src:"https://cloud.githubusercontent.com/assets/1574577/12971188/13471bd0-d066-11e5-8729-f0ca5375752e.png",alt:"OSHEAGA",className:"logo"}),Object(c.jsx)("div",{children:"from Queb\xe9c?"})]})}),Object(c.jsx)("h2",{className:"mt-5",children:"Bus Schedules"}),Object(c.jsx)("ul",{className:"list-schedules",children:s&&s.departures.map((function(e,t){return Object(c.jsx)("li",{children:Object(c.jsxs)("div",{className:"card p-3 mb-3 text-left",children:[Object(c.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(c.jsxs)("div",{children:[Object(c.jsx)("img",{src:"/img/icon-onbus.png",alt:"OSHEAGA",className:"logo"}),Object(c.jsx)("br",{}),Object(c.jsx)("strong",{className:"date",children:m(e.departure_time).date}),Object(c.jsx)("br",{}),Object(c.jsx)("strong",{className:"time",children:m(e.departure_time).time}),Object(c.jsx)("br",{}),Object(c.jsxs)("span",{className:"location",children:["Montr\xe9al ",Object(c.jsx)("br",{}),Object(c.jsxs)("small",{children:["(",s.locations&&s.locations.find((function(t){return t.id===e.origin_location_id})).name,!s.locations&&"_________",")"]})]})]}),Object(c.jsxs)("div",{className:"flex-grow-1 mr-2 ml-2 text-center",children:[Object(c.jsx)("img",{src:"/img/shuttle.png",alt:"OSHEAGA",className:"shuttle"}),Object(c.jsxs)("div",{className:"arrow d-flex",children:[Object(c.jsx)("div",{className:"line flex-grow-1"}),">",Object(c.jsxs)("span",{className:"duration badge badge-pill",children:[e.duration," min"]})]})]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("img",{src:"/img/icon-offbus.png",alt:"OSHEAGA",className:"logo"}),Object(c.jsx)("br",{}),Object(c.jsx)("strong",{className:"date",children:m(e.arrival_time).date}),Object(c.jsx)("br",{}),Object(c.jsx)("strong",{className:"time",children:m(e.arrival_time).time}),Object(c.jsx)("br",{}),Object(c.jsxs)("span",{className:"location",children:["Qu\xe9bec ",Object(c.jsx)("br",{}),Object(c.jsxs)("small",{children:["(",s.locations&&s.locations.find((function(t){return t.id===e.destination_location_id})).name,!s.locations&&"_________",")"]})]})]})]}),Object(c.jsxs)("div",{className:"d-flex justify-content-between flex-row align-items-baseline",children:[Object(c.jsx)("div",{children:Object(c.jsxs)("div",{className:"duration",children:["Duration: ",e.duration," min"]})}),Object(c.jsx)("h4",{className:"mb-0",children:Object(c.jsxs)("span",{className:"text-success",children:[e.prices.currency," ","number"===typeof e.prices.total?e.prices.total/100:e.prices.total]})})]})]})},t)}))})]})},p=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,17)).then((function(t){var s=t.getCLS,c=t.getFID,n=t.getFCP,r=t.getLCP,a=t.getTTFB;s(e),c(e),n(e),r(e),a(e)}))};i.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(_,{})}),document.getElementById("root")),p()}},[[16,1,2]]]);
//# sourceMappingURL=main.ead16f93.chunk.js.map