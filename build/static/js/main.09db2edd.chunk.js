(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{111:function(e,a,t){var s={"./AD.svg":112,"./AE.svg":113,"./AF.svg":114,"./AG.svg":115,"./AI.svg":116,"./AL.svg":117,"./AM.svg":118,"./AN.svg":119,"./AO.svg":120,"./AQ.svg":121,"./AR.svg":122,"./AS.svg":123,"./AT.svg":124,"./AU.svg":125,"./AW.svg":126,"./AX.svg":127,"./AZ.svg":128,"./BA.svg":129,"./BB.svg":130,"./BD.svg":131,"./BE.svg":132,"./BF.svg":133,"./BG.svg":134,"./BH.svg":135,"./BI.svg":136,"./BJ.svg":137,"./BL.svg":138,"./BM.svg":139,"./BN.svg":140,"./BO.svg":141,"./BR.svg":142,"./BS.svg":143,"./BT.svg":144,"./BV.svg":145,"./BW.svg":146,"./BY.svg":147,"./BZ.svg":148,"./CA.svg":149,"./CC.svg":150,"./CD.svg":151,"./CF.svg":152,"./CG.svg":153,"./CH.svg":154,"./CI.svg":155,"./CK.svg":156,"./CL.svg":157,"./CM.svg":158,"./CN.svg":159,"./CO.svg":160,"./CR.svg":161,"./CU.svg":162,"./CV.svg":163,"./CW.svg":164,"./CX.svg":165,"./CY.svg":166,"./CZ.svg":167,"./DE.svg":168,"./DJ.svg":169,"./DK.svg":170,"./DM.svg":171,"./DO.svg":172,"./DZ.svg":173,"./EC.svg":174,"./EE.svg":175,"./EG.svg":176,"./ER.svg":177,"./ES.svg":178,"./ET.svg":179,"./EU.svg":180,"./FI.svg":181,"./FJ.svg":182,"./FK.svg":183,"./FM.svg":184,"./FO.svg":185,"./FR.svg":186,"./GA.svg":187,"./GB-ENG.svg":188,"./GB-NIR.svg":189,"./GB-SCT.svg":190,"./GB-WLS.svg":191,"./GB-ZET.svg":192,"./GB.svg":193,"./GD.svg":194,"./GE.svg":195,"./GF.svg":196,"./GG.svg":197,"./GH.svg":198,"./GI.svg":199,"./GL.svg":200,"./GM.svg":201,"./GN.svg":202,"./GP.svg":203,"./GQ.svg":204,"./GR.svg":205,"./GS.svg":206,"./GT.svg":207,"./GU.svg":208,"./GW.svg":209,"./GY.svg":210,"./HK.svg":211,"./HM.svg":212,"./HN.svg":213,"./HR.svg":214,"./HT.svg":215,"./HU.svg":216,"./ID.svg":217,"./IE.svg":218,"./IL.svg":219,"./IM.svg":220,"./IN.svg":221,"./IO.svg":222,"./IQ.svg":223,"./IR.svg":224,"./IS.svg":225,"./IT.svg":226,"./JE.svg":227,"./JM.svg":228,"./JO.svg":229,"./JP.svg":230,"./KE.svg":231,"./KG.svg":232,"./KH.svg":233,"./KI.svg":234,"./KM.svg":235,"./KN.svg":236,"./KP.svg":237,"./KR.svg":238,"./KW.svg":239,"./KY.svg":240,"./KZ.svg":241,"./LA.svg":242,"./LB.svg":243,"./LC.svg":244,"./LGBT.svg":245,"./LI.svg":246,"./LK.svg":247,"./LR.svg":248,"./LS.svg":249,"./LT.svg":250,"./LU.svg":251,"./LV.svg":252,"./LY.svg":253,"./MA.svg":254,"./MC.svg":255,"./MD.svg":256,"./ME.svg":257,"./MF.svg":258,"./MG.svg":259,"./MH.svg":260,"./MK.svg":261,"./ML.svg":262,"./MM.svg":263,"./MN.svg":264,"./MO.svg":265,"./MP.svg":266,"./MQ.svg":267,"./MR.svg":268,"./MS.svg":269,"./MT.svg":270,"./MU.svg":271,"./MV.svg":272,"./MW.svg":273,"./MX.svg":274,"./MY.svg":275,"./MZ.svg":276,"./NA.svg":277,"./NC.svg":278,"./NE.svg":279,"./NF.svg":280,"./NG.svg":281,"./NI.svg":282,"./NL.svg":283,"./NO.svg":284,"./NP.svg":285,"./NR.svg":286,"./NU.svg":287,"./NZ.svg":288,"./OM.svg":289,"./PA.svg":290,"./PE.svg":291,"./PF.svg":292,"./PG.svg":293,"./PH.svg":294,"./PK.svg":295,"./PL.svg":296,"./PM.svg":297,"./PN.svg":298,"./PR.svg":299,"./PS.svg":300,"./PT.svg":301,"./PW.svg":302,"./PY.svg":303,"./QA.svg":304,"./RE.svg":305,"./RO.svg":306,"./RS.svg":307,"./RU.svg":308,"./RW.svg":309,"./SA.svg":310,"./SB.svg":311,"./SC.svg":312,"./SD.svg":313,"./SE.svg":314,"./SG.svg":315,"./SH.svg":316,"./SI.svg":317,"./SJ.svg":318,"./SK.svg":319,"./SL.svg":320,"./SM.svg":321,"./SN.svg":322,"./SO.svg":323,"./SR.svg":324,"./SS.svg":325,"./ST.svg":326,"./SV.svg":327,"./SX.svg":328,"./SY.svg":329,"./SZ.svg":330,"./TC.svg":331,"./TD.svg":332,"./TF.svg":333,"./TG.svg":334,"./TH.svg":335,"./TJ.svg":336,"./TK.svg":337,"./TL.svg":338,"./TM.svg":339,"./TN.svg":340,"./TO.svg":341,"./TR.svg":342,"./TT.svg":343,"./TV.svg":344,"./TW.svg":345,"./TZ.svg":346,"./UA.svg":347,"./UG.svg":348,"./UM.svg":349,"./US-CA.svg":350,"./US.svg":351,"./UY.svg":352,"./UZ.svg":353,"./VA.svg":354,"./VC.svg":355,"./VE.svg":356,"./VG.svg":357,"./VI.svg":358,"./VN.svg":359,"./VU.svg":360,"./WF.svg":361,"./WS.svg":362,"./XK.svg":363,"./YE.svg":364,"./YT.svg":365,"./ZA.svg":366,"./ZM.svg":367,"./ZW.svg":368};function r(e){var a=n(e);return t(a)}function n(e){if(!t.o(s,e)){var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}return s[e]}r.keys=function(){return Object.keys(s)},r.resolve=n,e.exports=r,r.id=111},426:function(e,a,t){},428:function(e,a,t){"use strict";t.r(a);var s=t(0),r=t.n(s),n=t(13),l=t.n(n),o=t(17),v=t(4),g=t(84),i=t(20),c=t.n(i),u=t(21),d=t.n(u),p=t(74),m=t.n(p),E=t(37),f=t.n(E),b=function(e){var a=e.showDepartures;return r.a.createElement(d.a,{className:"mt-5"},r.a.createElement(m.a,{variant:"dark",role:"main","aria-labelledby":"onboardTitle"},r.a.createElement("h1",{className:"display-4",id:"onboardTitle"},r.a.createElement(v.Translate,{value:"onboard.title"})),r.a.createElement("p",{className:"lead"},r.a.createElement(v.Translate,{value:"onboard.text"})),r.a.createElement("p",null,r.a.createElement(f.a,{size:"lg",variant:"primary",className:"btn-onboard",onClick:a},r.a.createElement(v.Translate,{value:"onboard.callToAction"})))))},N=t(29),T=t.n(N),h=t(41),C=t.n(h),O=t(40),M=t.n(O),A=t(14),y=t(28),L=function(e){return e.i18n.locale},S=["en","pt","fr"],G={en:"US",pt:"BR",fr:"FR"},P=Object(y.a)({locale:L});var B=Object(o.connect)(P,function(e){return Object(A.b)({setLocaleConnect:v.setLocale},e)})(function(e){var a=e.locale,t=e.setLocaleConnect;return r.a.createElement(T.a,{fixed:"top",collapseOnSelect:!0,expand:"md",bg:"dark",variant:"dark"},r.a.createElement(d.a,null,r.a.createElement(T.a.Brand,null,r.a.createElement(v.Translate,{value:"application.title"})),r.a.createElement(T.a,{className:"justify-content-end"},r.a.createElement(C.a,{title:r.a.createElement(M.a,{country:G[a]}),id:"basic-nav-dropdown"},S.map(function(e){return r.a.createElement(C.a.Item,{key:"navbarLocale_".concat(e),as:"button",onClick:function(){t(e),document.title=v.I18n.t("application.title")}},r.a.createElement(M.a,{className:"mr-2",country:G[e]}),r.a.createElement(v.Translate,{value:"application.languages.".concat(e)}))})))))}),D=t(77),j=t.n(D),I=t(43),R=t.n(I),F=t(78),w=t.n(F),K=function(e){var a=e.departure;return r.a.createElement(R.a,{className:"my-4"},r.a.createElement(R.a.Body,null,r.a.createElement("div",{className:"departure-info d-flex flex-column flex-md-row justify-content-between align-items-stretch"},r.a.createElement("div",null,r.a.createElement("p",{className:"departure-subtitle mb-4"},r.a.createElement(v.Translate,{value:"departure.departure"})),r.a.createElement("p",{className:"departure-time font-weight-bold mb-0"},r.a.createElement(v.Localize,{value:a.departure_time,dateFormat:"llll"})),r.a.createElement("p",{className:"text-secondary"},"(".concat(a.departure_timezone,")")),r.a.createElement("p",{className:"departure-location font-weight-bold"},"".concat(a.originLocationName," - ").concat(a.originCityName))),r.a.createElement("div",null,r.a.createElement("p",{className:"departure-subtitle mb-4"},r.a.createElement(v.Translate,{value:"departure.arrival"})),r.a.createElement("p",{className:"departure-time font-weight-bold mb-0"},r.a.createElement(v.Localize,{value:a.arrival_time,dateFormat:"llll"})),r.a.createElement("p",{className:"text-secondary"},"(".concat(a.arrival_timezone,")")),r.a.createElement("p",{className:"departure-location font-weight-bold"},"".concat(a.destinationLocationName," - ").concat(a.destinationCityName))),r.a.createElement(w.a,{className:"d-flex px-lg-5 justifiy-content-center align-items-center",variant:"info"},r.a.createElement("p",null,r.a.createElement(v.Translate,{value:"departure.price"}),r.a.createElement("br",null),r.a.createElement(v.Localize,{value:a.prices.total/100,options:{style:"currency",currency:"CAD",minimumFractionDigits:2,maximumFractionDigits:2},className:"departure-price font-weight-bold"}))))))},x=t(79),U=t.n(x),k=function(e){return r.a.createElement("div",{className:"loaderWrapper p-2"},r.a.createElement(U.a,Object.assign({animation:"border",role:"status"},e),r.a.createElement("span",{className:"sr-only"},r.a.createElement(v.Translate,{value:"application.loading"}))))},W=t(22),V=function(e){return e.departures.list},H=function(e){return e.departures.list.length},_=function(e){return e.departures.filters},Z=t(80),J=t.n(Z),Y=function(e){var a=e.filters,t=e.poll,s=e.locale;return J.a.get(function(e){var a=e.filters,t=e.poll;return"".concat("https://napi.busbud.com","/x-departures/").concat(a.origin,"/").concat(a.destination,"/").concat(a.outboundDate).concat(t?"/poll":"")}({filters:a,poll:t}),{params:{adult:a.adult,child:a.child,senior:a.senior,lang:s},headers:{Accept:"application/vnd.busbud+json; version=2; profile=https://schema.busbud.com/v2/","X-Busbud-Token":"PARTNER_AHm3M6clSAOoyJg4KyCg7w"}})},z="departure/LOADING",X="departure/DEPARTURES",Q="departure/COMPLETE",q={},$={};function ee(e){var a=e.departures,t=e.locations,s=e.cities;return t.forEach(function(e){q[e.id]=e}),s.forEach(function(e){$[e.id]=e.name}),a.map(function(e){var a=q[e.origin_location_id],t=q[e.destination_location_id];return Object(W.a)({},e,{originLocationName:a.name,destinationLocationName:t.name,originCityName:$[a.city_id],destinationCityName:$[t.city_id]})})}function ae(e){return{type:z,payload:"undefined"!==typeof e&&e}}function te(e){return{type:Q,payload:"undefined"!==typeof e&&e}}function se(e){return{type:X,payload:e}}var re=function(e,a){var t=v.I18n.t("api.errorMessage");i.toastr.error("Error",t),console.error(t,e),a([se([]),te(!0),ae(!1)])};function ne(){return function(e,a){e(ae(!0));var t=a(),s=L(t),r=_(t),n=H(t);Y({filters:r,poll:!0,locale:s,index:n}).then(function(a){var s=V(t),r=ee(a.data),n=[se(s.concat(r)),te(a.data.complete),ae(!1)];0===r.length&&!1===a.data.complete&&n.push(ne()),e(n)}).catch(function(a){re(a,e)})}}function le(){return function(e,a){e(ae(!0));var t=a(),s=L(t),r=_(t);Y({filters:r,poll:!1,locale:s}).then(function(a){var t=ee(a.data),s=[se(t),te(a.data.complete),ae(!1)];0===t.length&&!1===a.data.complete&&s.push(ne()),e(s)}).catch(function(a){re(a,e)})}}var oe={isLoading:!1,list:[],isComplete:!1,filters:{origin:"dr5reg",destination:"f25dvk",outboundDate:"2019-08-02",adult:1,child:0,senior:0,currency:"CAD"}};var ve=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(a.type){case X:return Object(W.a)({},e,{list:a.payload});case z:return Object(W.a)({},e,{isLoading:a.payload});case Q:return Object(W.a)({},e,{isComplete:a.payload});default:return e}},ge=function(e){var a=e.departures,t=e.isComplete,n=e.isLoading,l=e.initDeparturesConnect,o=e.pollDeparturesConnect;Object(s.useEffect)(function(){l()},[]);return r.a.createElement("div",{role:"main","aria-labelledby":"departuresTitle"},r.a.createElement(j.a,{pageStart:0,loadMore:function(){t||n||o()},hasMore:!t,initialLoad:!1,loader:r.a.createElement("div",{key:"departureLoader",style:{textAlign:"center",clear:"both"}},r.a.createElement(k,null)),useWindow:!1},r.a.createElement(d.a,null,r.a.createElement("h1",{className:"mt-3 mb-4",id:"departuresTitle"},r.a.createElement(v.Translate,{value:"departures.title"})),a.map(function(e){return r.a.createElement(K,{key:"departure_".concat(e.id),departure:e})}),t&&!n&&r.a.createElement("p",{style:{textAlign:"center"}},r.a.createElement("b",null,r.a.createElement(v.Translate,{value:"departures.noMoreAvailable"}))))))};ge.defaultProps={departures:[]};var ie=Object(y.a)({departures:V,isComplete:function(e){return e.departures.isComplete},isLoading:function(e){return e.departures.isLoading}});var ce=Object(o.connect)(ie,function(e){return Object(A.b)({initDeparturesConnect:le,pollDeparturesConnect:ne},e)})(ge),ue=function(){var e=Object(s.useState)("onboard"),a=Object(g.a)(e,2),t=a[0],n=a[1];return r.a.createElement("div",{className:"App h-100"},r.a.createElement("div",{className:"body-bkg"}),r.a.createElement(B,null),r.a.createElement(c.a,{timeOut:4e3,newestOnTop:!1,preventDuplicates:!0,position:"top-left",transitionIn:"fadeIn",transitionOut:"fadeOut",progressBar:!0,closeOnToastrClick:!0}),"onboard"===t&&r.a.createElement(b,{showDepartures:function(){n("departures")}}),"departures"===t&&r.a.createElement(ce,null))},de=t(81),pe=t.n(de),me=t(82),Ee=t.n(me),fe=t(83),be=Object(A.c)({i18n:v.i18nReducer,toastr:i.reducer,departures:ve}),Ne=Object(A.d)(be,{},Object(A.a)(fe.a,Ee.a,pe.a)),Te={en:{application:{title:"Oshaega Planner",languages:{en:"English",pt:"Portugu\xeas",fr:"Fran\xe7ais"},loading:"Loading"},onboard:{title:"Welcome to Osheaga Planner",text:"Plan your trip to the Osheaga Festival",callToAction:"Check Dates"},departure:{departure:"Departure",arrival:"Arrival",price:"Price"},departures:{title:"Departures",noMoreAvailable:"No more available departures"},api:{errorMessage:"Error loading departures."}},pt:{application:{title:"Planejador Oshaega",languages:{en:"English",pt:"Portugu\xeas",fr:"Fran\xe7ais"},loading:"Carregando"},onboard:{title:"Bem Vindo ao Planejador Osheaga",text:"Planeje sua viagem ao Festival Osheaga",callToAction:"Verificar Datas"},departure:{departure:"Sa\xedda",arrival:"Chegada",price:"Pre\xe7o"},departures:{title:"Sa\xeddas",noMoreAvailable:"N\xe3o h\xe1 mais sa\xeddas dispon\xedveis"},api:{errorMessage:"Erro ao carregar sa\xeddas."}},fr:{application:{title:"Planificateur Oshaega",languages:{en:"English",pt:"Portugu\xeas",fr:"Fran\xe7ais"},loading:"Chargement"},onboard:{title:"Bienvenue chez Planificateur Osheaga",text:"Planifiez votre voyage pour le festival d'Osheaga",callToAction:"V\xe9rifier les Dates"},departure:{departure:"D\xe9part",arrival:"Arriv\xe9e",price:"Prix"},departures:{title:"D\xe9parts",noMoreAvailable:"Plus de d\xe9parts disponibles"},api:{errorMessage:"Erreur de chargement des d\xe9parts."}}};t(426),t(427);Object(v.syncTranslationWithStore)(Ne),Ne.dispatch(Object(v.loadTranslations)(Te)),Ne.dispatch(Object(v.setLocale)("en")),l.a.render(r.a.createElement(o.Provider,{store:Ne},r.a.createElement(ue,null)),document.getElementById("root"))},85:function(e,a,t){e.exports=t(428)},98:function(e,a){}},[[85,1,2]]]);