(this["webpackJsonpfestival-tracker"]=this["webpackJsonpfestival-tracker"]||[]).push([[0],{104:function(e,a,t){e.exports=t.p+"static/media/osheaga.81e1a223.png"},105:function(e){e.exports=JSON.parse('{"Loading...":"Loading...","No departures found":"No departures found","Find the best bus ticket to your destination !":"Find the best bus tickets to your destination !","Date":"Date","Origin":"Origin","Select an origin":"Select an origin","Destination":"Destination","Select a destination":"Select a destination","Adult":"Adult","Child":"Child","Senior (65+)":"Senior (65+)","Country":"Country","Select a country":"Select a country","Currency":"Currency","Select a currency":"Select a currency","Search":"Search","Results":"Results","Previous":"Previous","Next":"Next","Departure":"Departure","Arrival":"Arrival","Trip":"Trip","Price":"Price"}')},106:function(e){e.exports=JSON.parse('{"Loading...":"Chargement...","No departures found":"Aucun d\xe9part trouv\xe9","Find the best bus ticket to your destination !":"Trouve les meilleurs billets d\'autobus pour ta destination !","Date":"Date","Origin":"D\xe9part","Select an origin":"S\xe9lectionne un d\xe9part","Destination":"Arriv\xe9e","Select a destination":"S\xe9lectionne une arriv\xe9e","Adult":"Adulte","Child":"Enfant","Senior (65+)":"Ain\xe9 (65+)","Country":"Pays","Select a country":"S\xe9lectionne un pays","Currency":"Devise","Select a currency":"S\xe9lectionne une devise","Search":"Recherche","Results":"R\xe9sultats","Previous":"Pr\xe9c\xe9dent","Next":"Suivant","Departure":"D\xe9part","Arrival":"Arriv\xe9e","Trip":"Voyage","Price":"Prix"}')},11:function(e,a,t){e.exports={Instructions:"DepartureTrackerContainer_Instructions__QQ0I4",Container:"DepartureTrackerContainer_Container__hVkG0",Form:"DepartureTrackerContainer_Form__2WSUA",SearchButton:"DepartureTrackerContainer_SearchButton__3kCSp",FormGroup:"DepartureTrackerContainer_FormGroup__38495",FormItem:"DepartureTrackerContainer_FormItem__1yLix",Departures:"DepartureTrackerContainer_Departures__pgFkz",NavigationButtons:"DepartureTrackerContainer_NavigationButtons__3QyoY",NavigationButton:"DepartureTrackerContainer_NavigationButton__3Zst9",DepartureBlocks:"DepartureTrackerContainer_DepartureBlocks__3tbi1"}},111:function(e,a,t){e.exports=t(177)},116:function(e,a,t){},16:function(e,a,t){e.exports={Departure:"Departure_Departure__20R5T",TripItems:"Departure_TripItems__35B5t",TripItem:"Departure_TripItem__FRRl7",TripItemHour:"Departure_TripItemHour__29QRg"}},177:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(15),o=t.n(c),i=(t(116),t(13)),l=t(184),u=t(50),s=t.n(u),m=t(34),d=t.n(m),p=t(88),v=t.n(p).a.create({baseURL:"https://napi.busbud.com/",headers:{Accept:"application/vnd.busbud+json; version=2; profile=https://schema.busbud.com/v2/","X-Busbud-Token":"PARTNER_BaASYYHxTxuOINEOMWq5GA"}}),E=t(181),g=t(183),_=t(108),b=t(182),f=t(16),N=t.n(f),h=function(e){var a,t,n=e.departure,c=e.operators,o=e.locations,i=Object(l.a)().t,u=c.find((function(e){return e.id===n.operator_id})),s=o.find((function(e){return e.id===n.trip_stops[0].location_id})),m=o.find((function(e){return e.id===n.trip_stops[n.trip_stops.length-1].location_id}));return r.a.createElement("div",{className:N.a.Departure},r.a.createElement("div",{className:N.a.Operator},r.a.createElement("a",{href:u.url},r.a.createElement("img",{src:u.logo_url,alt:"Operator logo"}))),r.a.createElement("div",null,r.a.createElement("div",{className:N.a.Locations},i("Departure"),":",r.a.createElement("div",{key:"departure-".concat(n.id,"-location-departure"),className:N.a.Location},r.a.createElement("div",null,n.departure_time),r.a.createElement("div",{className:N.a.LocationName},s.name),r.a.createElement("div",{className:N.a.LocationAddress},s.address.join(","))),r.a.createElement("br",null),i("Arrival"),":",r.a.createElement("div",{key:"departure-".concat(n.id,"-location-arrival"),className:N.a.Location},r.a.createElement("div",null,n.arrival_time),r.a.createElement("div",{className:N.a.LocationName},m.name),r.a.createElement("div",{className:N.a.LocationAddress},m.address.join(","))))),r.a.createElement("br",null),r.a.createElement("div",null,i("Trip"),":",r.a.createElement("div",{className:N.a.TripItems},n.trip_stops.map((function(e,a){var t,c;return r.a.createElement("div",{className:N.a.TripItem,key:"departure-".concat(n.id,"-trip-").concat(a)},r.a.createElement("div",{className:N.a.TripItemHour},e.departure_time?null===(t=e.departure_time)||void 0===t?void 0:t.substring(11,19):null===(c=e.arrival_time)||void 0===c?void 0:c.substring(11,19)),r.a.createElement("div",{className:N.a.TripItemLocation},e.name))})))),r.a.createElement("div",null,i("Price"),": ",((null===(a=n.prices)||void 0===a?void 0:a.total)/100).toFixed(2),"$ ",null===(t=n.prices)||void 0===t?void 0:t.currency))},S=t(180),C=t(89),O=t.n(C),y=function(){var e=Object(l.a)().t;return r.a.createElement("div",{className:O.a.Loading},r.a.createElement("div",null,e("Loading...")),r.a.createElement(S.a,{size:"large"}))},D=t(11),k=t.n(D),T=[{value:"f25dvk",label:"Montreal"},{value:"dr5reg",label:"New York"},{value:"f2m673",label:"Quebec"}],j=[{value:"USD",label:"US Dollard ($)"},{value:"CAD",label:"Canadian Dollard ($)"}],L=[{value:"US",label:"United States"},{value:"CA",label:"Canada"}],F=function(){var e=Object(l.a)().t,a=Object(n.useState)(!1),t=Object(i.a)(a,2),c=t[0],o=t[1],u=Object(n.useState)([]),m=Object(i.a)(u,2),p=m[0],f=m[1],N=Object(n.useState)([]),S=Object(i.a)(N,2),C=S[0],O=S[1],D=Object(n.useState)([]),F=Object(i.a)(D,2),I=F[0],A=F[1],x=Object(n.useState)("f2m673"),B=Object(i.a)(x,2),R=B[0],P=B[1],G=Object(n.useState)("f25dvk"),U=Object(i.a)(G,2),V=U[0],w=U[1],z=Object(n.useState)(1),J=Object(i.a)(z,2),Q=J[0],H=J[1],Y=Object(n.useState)(0),q=Object(i.a)(Y,2),W=q[0],$=q[1],M=Object(n.useState)(0),X=Object(i.a)(M,2),Z=X[0],K=X[1],ee=Object(n.useState)(0),ae=Object(i.a)(ee,2),te=ae[0],ne=ae[1],re=Object(n.useState)(!0),ce=Object(i.a)(re,2),oe=(ce[0],ce[1]),ie=Object(n.useState)("CAD"),le=Object(i.a)(ie,2),ue=le[0],se=le[1],me=Object(n.useState)("CA"),de=Object(i.a)(me,2),pe=de[0],ve=de[1],Ee=(new Date).toISOString().substring(0,10),ge=Object(n.useState)(Ee),_e=Object(i.a)(ge,2),be=_e[0],fe=_e[1],Ne=function e(a){ne(a),o(!0),v.get("/x-departures/".concat(R,"/").concat(V,"/").concat(be,"/poll"),{params:{adult:Q,child:W,child_ages:"".concat("10,".repeat(W).slice(0,-1)),senior:Z,senior_ages:"".concat("75,".repeat(Z).slice(0,-1)),lang:pe,currency:ue,index:a}}).then((function(t){f(t.data.departures),O(t.data.operators),A(t.data.locations),oe(t.data.complete),t.data.complete?o(!1):(o(!0),setTimeout((function(){e(a)}),2e3))})).catch((function(e){o(!1),f([]),console.log(e)}))},he=r.a.createElement(y,null);if(!c){var Se=r.a.createElement("div",null,e("No departures found"));p.length&&(Se=p.map((function(e,a){return r.a.createElement(h,{key:"departure-".concat(a),departure:e,operators:C,locations:I})}))),he=r.a.createElement("div",{className:k.a.DepartureBlocks},Se)}return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:k.a.Instructions},e("Find the best bus ticket to your destination !")),r.a.createElement("div",{className:k.a.Container},r.a.createElement("div",{className:k.a.Form},r.a.createElement("div",{className:k.a.FormGroup},r.a.createElement("div",{className:k.a.FormItem},r.a.createElement("div",null,e("Date")),r.a.createElement(E.a,{defaultValue:d()(be),onChange:function(e){fe(null===e||void 0===e?void 0:e.toISOString().substring(0,10))}}))),r.a.createElement("div",{className:k.a.FormGroup},r.a.createElement("div",{className:k.a.FormItem},r.a.createElement("div",null,e("Origin")),r.a.createElement(s.a,{options:T,onChange:function(e){return P(e.value)},value:R,placeholder:e("Select an origin")})),r.a.createElement("div",{className:k.a.FormItem},r.a.createElement("div",null,e("Destination")),r.a.createElement(s.a,{options:T,onChange:function(e){return w(e.value)},value:V,placeholder:e("Select a destination")}))),r.a.createElement("div",{className:k.a.FormGroup},r.a.createElement("div",{className:k.a.FormItem},r.a.createElement("div",null,e("Adult")),r.a.createElement(g.a,{min:0,max:99,defaultValue:Q,onChange:function(e){return H(e)}})),r.a.createElement("div",{className:k.a.FormItem},r.a.createElement("div",null,e("Child")),r.a.createElement(g.a,{min:0,max:99,defaultValue:W,onChange:function(e){return $(e)}})),r.a.createElement("div",{className:k.a.FormItem},r.a.createElement("div",null,e("Senior (65+)")),r.a.createElement(g.a,{min:0,max:99,defaultValue:Z,onChange:function(e){return K(e)}}))),r.a.createElement("div",{className:k.a.FormGroup},r.a.createElement("div",{className:k.a.FormItem},r.a.createElement("div",null,e("Country")),r.a.createElement(s.a,{options:L,onChange:function(e){return ve(e.value)},value:pe,placeholder:e("Select a country")})),r.a.createElement("div",{className:k.a.FormItem},r.a.createElement("div",null,e("Currency")),r.a.createElement(s.a,{options:j,onChange:function(e){return se(e.value)},value:ue,placeholder:e("Select a currency")}))),r.a.createElement(_.a,{className:k.a.SearchButton,onClick:function(){return o(!0),oe(!0),void v.get("/x-departures/".concat(R,"/").concat(V,"/").concat(be),{params:{adult:Q,child:W,child_ages:"".concat("10,".repeat(W).slice(0,-1)),senior:Z,senior_ages:"".concat("75,".repeat(Z).slice(0,-1)),lang:pe,currency:ue}}).then((function(e){Ne(0)})).catch((function(e){f([]),o(!1),console.log(e)}))},type:"primary",icon:r.a.createElement(b.a,null)},e("Search"))),r.a.createElement("div",{className:k.a.Departures},e("Results")," ",te+1," - ",te+10,r.a.createElement("div",{className:k.a.NavigationButtons},r.a.createElement(_.a,{className:k.a.NavigationButton,disabled:0===te,onClick:function(){return Ne(te-10>0?te-10:0)},type:"primary"},e("Previous")),r.a.createElement(_.a,{className:k.a.NavigationButton,onClick:function(){return Ne(te+10)},type:"primary"},e("Next"))),he)))},I=t(70),A=t.n(I),x=t(38),B=t.n(x),R=t(104),P=t.n(R),G=function(){var e=Object(l.a)().i18n;return r.a.createElement("header",{className:B.a.Toolbar},r.a.createElement("div",{className:B.a.LogoContainer},r.a.createElement("img",{className:B.a.Logo,src:P.a,alt:"Osheaga festival"})),r.a.createElement("div",{className:B.a.ButtonEnglish+" "+("en"===e.language?B.a.Active:""),onClick:function(){return e.changeLanguage("en")}},r.a.createElement("div",null,"EN")),r.a.createElement("div",{className:B.a.ButtonFrench+" "+("fr"===e.language?B.a.Active:""),onClick:function(){return e.changeLanguage("fr")}},r.a.createElement("div",null,"FR")))},U=function(e){var a=e.children;return r.a.createElement("div",{className:A.a.Layout},r.a.createElement(G,null),r.a.createElement("div",{className:A.a.Content},a))};var V=function(){return r.a.createElement(U,null,r.a.createElement(F,null))},w=(t(175),t(176),t(71)),z=t(51),J={en:{translation:t(105)},fr:{translation:t(106)}};w.a.use(z.e).init({resources:J,lng:"en",fallbackLng:"fr",keySeparator:!1,interpolation:{escapeValue:!1}});w.a;o.a.render(r.a.createElement(V,null),document.getElementById("root"))},38:function(e,a,t){e.exports={Toolbar:"Toolbar_Toolbar__2AaWe",LogoContainer:"Toolbar_LogoContainer__1OuBm",Logo:"Toolbar_Logo__32SUz",ButtonFrench:"Toolbar_ButtonFrench__1woqG",ButtonEnglish:"Toolbar_ButtonEnglish__1GzgC",Active:"Toolbar_Active__Eoez-"}},70:function(e,a,t){e.exports={Layout:"Layout_Layout__3UJIq",Content:"Layout_Content__1sgz6"}},89:function(e,a,t){e.exports={Loading:"Loading_Loading__2wIjg"}}},[[111,1,2]]]);
//# sourceMappingURL=main.3fb71038.chunk.js.map